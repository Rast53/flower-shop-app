# Цветочный Магазин - Клиентское Приложение

Клиентская часть веб-приложения для цветочного магазина, разработанная с использованием React.

## Особенности

- Просмотр каталога цветов с фильтрацией по категориям
- Детальная информация о товарах
- Корзина покупок с возможностью изменять количество товаров
- Оформление заказа
- Авторизация и регистрация пользователей
- Личный кабинет пользователя с историей заказов
- Админ-панель для управления товарами, категориями и заказами
- Адаптивный дизайн для мобильных устройств

## Технологии

- React 18
- React Router 6
- Axios для HTTP-запросов
- CSS для стилизации
- Docker для контейнеризации

## Установка и запуск

### Запуск с использованием Docker

1. Убедитесь, что у вас установлен Docker и Docker Compose
2. Клонируйте репозиторий: `git clone [URL репозитория]`
3. Перейдите в директорию проекта: `cd flower-shop-app`
4. Запустите контейнеры: `docker-compose up -d`
5. Приложение будет доступно по адресу: `http://localhost:3000`

### Запуск в режиме разработки

1. Клонируйте репозиторий: `git clone [URL репозитория]`
2. Перейдите в директорию проекта: `cd flower-shop-app`
3. Установите зависимости: `npm install`
4. Запустите приложение: `npm start`
5. Приложение будет доступно по адресу: `http://localhost:3000`

## Структура проекта

```
flower-shop-app/
│
├── public/          # Публичные файлы и HTML-шаблон
├── src/             # Исходный код приложения
│   ├── assets/      # Статические ресурсы (изображения, шрифты)
│   ├── components/  # Переиспользуемые компоненты
│   ├── contexts/    # Контексты React (аутентификация, корзина)
│   ├── hooks/       # Пользовательские хуки
│   ├── pages/       # Компоненты страниц
│   ├── services/    # Сервисы для работы с API
│   ├── styles/      # CSS-стили
│   ├── App.js       # Основной компонент приложения
│   └── index.js     # Точка входа
├── Dockerfile       # Конфигурация Docker для клиентской части
├── nginx.conf       # Конфигурация Nginx для продакшн
└── package.json     # Зависимости и скрипты проекта
```

<!-- Что можно сделать дальше:
Реализовать интеграцию с платежными системами
Добавить функцию отслеживания статуса заказа
Реализовать страницу истории заказов для пользователей
Создать компонент для оценки и отзывов о товарах
Стоит ли продолжить разработку этих или других компонентов? -->

## Взаимодействие с API

Приложение взаимодействует с API сервера, который должен быть запущен отдельно. API-сервис предоставляет следующие основные конечные точки:

- `/api/flowers` - управление цветами
- `/api/categories` - управление категориями
- `/api/orders` - управление заказами
- `/api/auth` - аутентификация и управление пользователями

### Запуск бэкенд-сервера

Для корректной работы приложения необходимо запустить бэкенд-сервер, который находится в отдельном репозитории:

1. Убедитесь, что у вас есть копия репозитория `flower-shop-server`
2. Он должен находиться в директории `../flower-shop-server` относительно клиентского приложения
3. Перейдите в директорию сервера: `cd ../flower-shop-server`
4. Установите зависимости: `npm install`
5. Запустите сервер: `npm start`
6. Сервер должен быть доступен по адресу: `http://localhost:3000/api`

### Диагностика проблем соединения

Если у вас возникли проблемы с подключением к API:

1. Убедитесь, что бэкенд-сервер запущен и работает
2. Запустите новый диагностический скрипт из корня проекта:
   ```bash
   node diagnostics.js
   ```
   Этот скрипт:
   - Проверит доступность API (как локального, так и продакшн)
   - Проверит наличие серверного проекта
   - Проверит настройки Docker
   - Проверит файлы конфигурации
   - Предложит решения обнаруженных проблем

3. Для автоматического запуска сервера используйте:
   ```bash
   node diagnostics.js --start-server
   ```

4. Для тестирования авторизации используйте:
   ```bash
   # Тестирование на локальном сервере с дефолтными учетными данными
   node diagnostics.js --test-auth --local
   
   # Тестирование на продакшн сервере
   node diagnostics.js --test-auth --prod
   
   # Тестирование с указанием учетных данных
   node diagnostics.js --test-auth --email=user@example.com --password=yourpassword
   ```

5. Если вы работаете с Docker, можно перезапустить контейнеры:
   ```bash
   docker-compose down
   docker-compose up -d
   ```

### Настройка URL API

По умолчанию приложение использует следующую логику для определения URL бэкенд-сервера:

- При доступе к приложению через домен `ra.nov.ru` используется относительный путь `/api`
- В режиме разработки по умолчанию используется `http://localhost:3000/api`
- В production используется относительный путь `/api`

Эти настройки можно изменить в файле `src/services/api.js`.

## Разработка

Для разработки рекомендуется запустить сервер в режиме разработки:

```bash
npm start
```

Для сборки продакшн-версии:

```bash
npm run build
```

## Лицензия

[MIT](LICENSE)